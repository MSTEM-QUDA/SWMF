!- This is a TEST of the major features of the BATSRUS code
!
!  Use double precision (-r8) for compilation except for the CRAY
!  Use nI=nJ=nK=4 for BLOCK size, and nBLK*nPE must be more than 1000
!
!  For testing the platform or the version do something like this
!
!  cd run
!  cp PARAM.TEST PARAM.in
!  mpirun -np 8 BATSRUS.exe > runlog
!  diff runlog TEST/runlog.cylon
!  diff IO2/log_n000001.log TEST/logfile.cylon

!!!Test Message Passing!!!

#TEST
read_inputs time_exchange load_balance analyze_neighbors

#TIMING
T			UseTiming
-1			dnTiming
-1			TimingDepth
tree			TimingStyle

#CHECKGRIDSIZE
4			nI
4			nJ
4			nK
1000			MinBlockALL

#PRECISION
8			nByteReal

#INCLUDE
Param/EARTH/EarthGGCM5nTNorth

#AXES
GSM			CoordinateSystemString
ideal ideal		AxesType

#AMRINIT
default			InitialRefineType
4			InitialRefineLevels

#INNERBOUNDARY
ionosphere		innerBCtype

#SAVERESTART
F			DoSaveRestart

#SAVELOGFILE
T			SaveLogfile
raw			LogString
1			dnOutput(logfile_)

#SAVEPLOT
1
y=0 idl var		PlotType
10			dnPlot
0.			dxPlot
rho ux uy uz bx by bz p b1x b1y b1z divb dx PE BLKALL
g c

#SCHEME
1			nOrder
Rusanov			FluxType

#NONCONSERVATIVE
-1.			rConservative

#STOP
10			MaxIter

#RUN

#TEST
read_inputs amr load_balance analyze_neighbors

!!!Test AMR!!!

#SCHEME
2			nOrder
Rusanov			FluxType
minmod			LimiterType

#AMRCRITERIA
1			nRefineCrit
Rcurrents		RefineCrit(1)

#AMR
11			dnRefine (frequency in terms of total steps n_step)
T			DoAutomaticRefinement 
10.			percentCoarsen
30.			percentRefine
99999			maxBlockALL

#STOP
20			MaxIter

#RUN

!!!Test Time accurate!!!

#TEST
read_inputs

#AMR
-1			dnRefine

#TIMESTEPPING
T			DoTimeAccurate
1			nStage
0.8			cfl

#STOP
30			MaxIter
-1.			MaxTime

#RUN

!!!Test Boris factor!!!

#BORIS
T			UseBorisCorrection
0.03			BorisClightFactor

#STOP
40			MaxIter
-1.			MaxTime

#END
