#ECHO
T

VERBOSE
100

#TIMEACCURATE
F			DoTimeAccurate

#PROGRESS
1			DnShowProgressShort
100			DnShowProgressLong

#DESCRIPTION
Test for GM-IM-IE.

#PLANET
EARTH

#SAVERESTART
F

#ROTATION
F			UseRotation

#STARTTIME
2000			iYear
3			iMonth
21			iDay
10			iHour
45			iMinute
0			iSecond
0.0			FracSecond

#COMPONENT
IM                      NameComp
F                       UseComp

#COUPLE2
GM			NameComp1
IE			NameComp2
5                      	DnCouple
-1.0                    DtCouple


#BEGIN_COMP GM ---------------------------------------------------------------

#GRID
1			nRootBlock_D(x_)
1			nRootBlock_D(y_)
1			nRootBlock_D(z_)
-224.			x1
 32.			x2
-128.			y1
 128.			y2
-128.			z1
 128.			z2

! Maximum resolution initially
#GRIDRESOLUTION
2.0			Resolution
initial			NameArea

! Minimum resolution in the computational domain
#GRIDRESOLUTION
8.0			Resolution
all			NameArea

! Far tail for wind satellite and inflow
#GRIDRESOLUTION
2.0			Resolution
box			NameArea
 -20.0			xMinBox
 -16.0			yMinBox
 -16.0			zMinBox
  20.0			xMaxBox
  16.0			yMaxBox
  16.0			xMaxBox

! r currents resolution for the ionosphere
#GRIDRESOLUTION
1/4			Resolution
shell0			NameArea
2.5			r1Shell
3.5			r2Shell

#MAGNETOSPHERE
T                       body1
2.5                     Rbody
3.0                     Rcurrents
28.0                   Magneto_rho_dim (/ccm) density for fixed BC for rho_BLK
25000.0                 Magneto_T_dim (K) temperature for fixed BC for P_BLK

#TVDRESCHANGE
T

#TIMESTEPPING
1			nStage
0.80			CflExlp

#OUTERBOUNDARY
outflow			TypeBC_I(east_)
vary			TypeBC_I(west_)
float			TypeBC_I(south_)
float			TypeBC_I(north_)
float			TypeBC_I(bot_)
float			TypeBC_I(top_)

#INNERBOUNDARY
ionosphere		

#SCHEME
1			nOrder
Rusanov			TypeFlux

#SAVELOGFILE
T
RAW			StringLogfile
1			DnSaveLogfile
-1.			DtSaveLogfile

SATELLITE
2
MHD file RAY		StringSatellite
-1	              	DnOutput
1.    			DtOutput
midn_05.dat		NameTrajectoryFile
MHD file RAY		StringSatellite
-1	              	DnOutput
1.    			DtOutput
noon_05.dat		NameTrajectoryFile

#UPSTREAM_INPUT_FILE
T                                                     UseUpstreamInputFile
GM/Param/TESTSUITE/Inputfiles/IMF_NSturning_1nT.dat   NameUpstreamFile

#END_COMP GM -----------------------------------------------------------------


#BEGIN_COMP IE ---------------------------------------------------------------

#IONOSPHERE
0                       iConductanceModel
F                       UseFullCurrent
F                       UseFakeRegion2
150.0                   F10.7 Flux
5.0                     StarLightPedConductance
0.25                    PolarCapPedConductance

#SAVEPLOT
2			nPlotFile
min idl                 StringPlot
2			DnSavePlot
-1.0			DtSavePlot
max tec                 StringPlot
5			DnSavePlot
-1.0			DtSavePlot

#END_COMP IE -----------------------------------------------------------------

#STOP
5                    	MaxIter
-1.			TimeMax

#RUN	######################################################################


#TIMEACCURATE
T	

#COMPONENT
IM			NameComp
T			UseComp

#COUPLEORDER
5			nCouple
IE GM			NameSourceTarget
IE IM			NameSourceTarget
GM IE			NameSourceTarget
GM IM			NameSourceTarget
IM GM			NameSourceTarget

#COUPLE2
GM			NameComp1
IE			NameComp2
-1                      DnCouple
5.0                     DtCouple

#COUPLE2
IM			NameComp1
GM			NameComp2
-1                      DnCouple
5.0                    	DtCouple

#COUPLE1
IE			NameComp1
IM			NameComp2
-1                      DnCouple
5.0                    	DtCouple

#COUPLETIME
GM			NameComp
F			DoCoupleOnTime

#BEGIN_COMP GM ---------------------------------------------------------------

#IM
20.0                    TauImP
F			DoImSatTrace 

#SAVEPLOT
3                       nPlotFile
x=0 FUL idl             StringPlot
-1                      DnSavePlot
10.			DtSavePlot
-1.                     DxSavePlot 
y=0 FUL idl             StringPlot
-1                      DnSavePlot
10.			DtSavePlot
-1.                     DxSavePlot 
z=0 FUL idl             StringPlot
-1                      DnSavePlot
10.			DtSavePlot
-1.                     DxSavePlot

#END_COMP GM -----------------------------------------------------------------



#BEGIN_COMP IM ---------------------------------------------------------------

#SAVEPLOT
1                  	nFilesPlot
RCM 2d idl              StringPlot
-1	 		DnSavePlot
5	   		DtSavePlot

#END_COMP IM -----------------------------------------------------------------



#BEGIN_COMP IE ---------------------------------------------------------------

#SAVEPLOT
2			nPlotFile
min idl                 StringPlot
-1			DnSavePlot
5.0			DtSavePlot
max tec                 StringPlot
-1			DnSavePlot
5.0			DtSavePlot

#END_COMP IE -----------------------------------------------------------------

#STOP
-1			MaxIter
10.0			TimeMax

#END
