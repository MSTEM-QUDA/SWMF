#ECHO
T

#INCLUDE
RESTART.in

#DESCRIPTION
Use restart data for SC and create SC-IH steady state

#IDEALAXES
! align both the rotational and the magnetic axes of Earth with ecliptic North

#TIMEACCURATE
F			DoTimeAccurate

#SAVERESTART
T			DoSaveRestart
2000			DnSaveRestart
-1.0			DtSaveRestart

! SC is only coupled once to provide inner BC for IH

#COUPLE2
SC			NameSource
IH			NameTarget
100			DnCouple
-1.0			DtCouple

#BEGIN_COMP SC --------------------------------------------------------------

#INCLUDE
SC/restartIN/restart.H

#USERFLAGS
T			UseUserInnerBCs
F			UseUserSource
F			UseUserPerturbation
F			UseUserOuterBcs
F			UseUserICs
F			UseUserSpecifyRefinement
T			UseUserLogFiles
F			UseUserWritePlot
F			UseUserAMR
F			UseUserEchoInput
T			UseUserB0
T			UseUserInitSession
T			UseUserUpdateStates

#USERINPUTBEGIN ------------------------

#USEUSERHEATING
F			UseUserHeating

#PFSSM
T			UseUserB0
1.0			Ro_PFSSM
31.0			Rs_PFSSM
0.0			H_PFSSM
SC/CR1935_WSO.dat       File_PFSSM
12			iHead_PFSSM
-1.0			PhiShift
0.01			UnitB
-1.0			dt_UpdateB0

#AWHEAT
1.5			Bnot	[G]
1.6304543		Tnot
9			DegFrm1
2.1			DegFRatio
5.0			DensRatio

#USERINPUTEND ----------------------------

#HELIOSPHERE
1.80E+06		tSun    [K]      1.0E6 
5.00E+13		NdSun [n/m-3]
10.00			qSun
1.76			tHeat
1.00			rHeat
4.50			SigmaHeat
F			UseFluxRope

#GAMMA
1.50000E+00		Gamma

#OUTERBOUNDARY
coupled 		TypeBcEast
coupled 		TypeBcWest
coupled 		TypeBcSouth
coupled 		TypeBcNorth
coupled 		TypeBcBottom
coupled 		TypeBcTop

#SCHEME
2			nOrder (1 or 2)
Sokolov			TypeFlux (Roe, Rusanov, Linde, Sokolov)
minmod			TypeLimiter

#TIMESTEPPING
1                       nStage
0.80                    CflExpl

#END_COMP SC ---------------------------------------------------------------

#BEGIN_COMP IH ---------------------------------------------------------------

! Check if the block size is correct and the number of blocks are sufficient
#CHECKGRIDSIZE
8			nI
8			nJ
8			nK
5000			MinBlockALL

#PROBLEMTYPE
3			iProblemType: 3=Solar Wind and Inner Heliosphere

#BODY
T			UseBody1
20.0			rBody

#INNERBOUNDARY
coronatoih		TypeBcInner

#HELIOSPHERE
2.85E+06		BodyTDim   [K] 
1.50E+14		BodyRhoDim [n/m-3]
25.00			qSun
1.75			tHeat
1.00			rHeat
4.50			SigmaHeat
F                       UseUserPerturbation

#GRID
1			nRootBlockX
1			nRootBlockY
1			nRootBlockZ
-240.0			xMin
 240.0			xMax
-240.0			yMin
 240.0			yMax
-240.0			zMin
 240.0			zMax

#COORDSYSTEM
HGC			TypeCoordSystem

#OUTERBOUNDARY
float			TypeBcEast
float			TypeBcWest
float			TypeBcSouth
float			TypeBcNorth
float			TypeBcBottom
float			TypeBcTop 

#AMRINIT
coupledhelio    	TypeRefineInit
6			nLevelRefineInit

#TIMESTEPPING
2			nStage
0.8			CflExpl

#SAVELOGFILE
T			DoSaveLogfile
RAW			StringLogfile
1			DnSaveLogfile
-1.			DtSaveLogfile

#SAVEPLOT
6			nPlotFiles
x=0 MHD tec             StringPlot
1000                    DnSavePlot
-1.			DtSavePlot
y=0 MHD tec		StringPlot
1000                    DnSavePlot
-1.			DtSavePlot
z=0 MHD tec		StringPlot
1000                    DnSavePlot
-1.			DtSavePlot
x=0 MHD idl             StringPlot
1000                    DnSavePlot
-1.			DtSavePlot
-1.			DxSavePlot
y=0 MHD idl             StringPlot
1000                    DnSavePlot
-1.			DtSavePlot
-1.			DxSavePlot
z=0 MHD idl             StringPlot
1000                    DnSavePlot
-1.			DtSavePlot
-1.			DxSavePlot

#SCHEME
2			nOrder
Sokolov			TypeFlux
mc			TypeLimiter
1.2			BetaLimiter

#END_COMP IH -----------------------------------------------------------------

#STOP
1			MaxIteration
-1.0			tSimulationMax

#RUN #########################################################################


! Switch off the SC component
#COMPONENT
SC			NameComp
F			UseComp

#STOP
6000                    MaxIteration
-1.			tSimulationMax
