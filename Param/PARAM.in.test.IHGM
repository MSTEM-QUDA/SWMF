#ECHO
T			DoEcho

! Useful to see the location of the Earth in the heliosphere
#TEST
CON_axes::init_axes

#INCLUDE
RESTART.in

#DESCRIPTION
Couple IH to GM

#TIMEACCURATE
F			DoTimeAccurate

#SAVERESTART
T			DoSaveRestart
2000			DnSaveRestart
-1.0			DtSaveRestart

#BEGIN_COMP IH -------------------------------------------------------------

#INCLUDE
IH/restartIN/restart.H

! Note: cannot use "coronatoih" or "buffergrid" if there is no SC component
#INNERBOUNDARY
float			TypeBcInner

#OUTERBOUNDARY
float			TypeBcEast
float			TypeBcWest
float			TypeBcSouth
float			TypeBcNorth
float			TypeBcBottom
float			TypeBcTop 

#END_COMP IH ---------------------------------------------------------------

#BEGIN_COMP GM --------------------------------------------------------------

#GRID
2			nRootBlockX
1			nRootBlockY
1			nRootBlockZ
-224.                   xMin
 +32.                   xMax
 -64.                   yMin
 +64.                   yMax
 -64.                   zMin
 +64.                   zMax

#INCLUDE
GM/Param/EARTH/Grid

#GRIDRESOLUTION
2.0			Resolution
initial

#DOAMR
T			DoAmr
60			DnAmr
-1.0			DtAmr
T			IsStrictAmr

#BODY
T			UseBody
2.5			rBody      [rEarth]
3.5			rCurrents  [rEarth]
10.0			BodyRhoDim [amu/cc]
25000.0			BodyTDim   [K]

! This is used to initialize the domain
#SOLARWIND
    5.0                 SwRhoDim [amu/cc]
250000.0                SwTDim   [K]
  -400.0                SwUxDim  [km/s]
     0.0                SwUyDim  [km/s]
     0.0                SwUzDim  [km/s]
     0.0                SwBxDim  [nT]
     0.0                SwByDim  [nT]
    -5.0                SwBzDim  [nT]

! The upstream boundary condition is obtained from IH
#OUTERBOUNDARY
outflow			TypeBcEast
coupled			TypeBcWest
float			TypeBcSouth
float			TypeBcNorth
float			TypeBcBottom
float			TypeBcTop

#TIMESTEPPING
1			nStage
0.8			CflExlp

#SCHEME
1			nOrder
Rusanov			TypeFlux

#SAVELOGFILE
T			DoSaveLogfile
RAW			StringLogfile
1			DnSaveLogfile
-1.			DtSaveLogfile

#SAVEPLOT
2                       nPlotFiles
y=0 MHD idl             StringPlot
10                      DnSavePlot
-1.			DtSavePlot
-1.			Dx
z=0 MHD idl             StringPlot
10                      DnSavePlot
-1.			DtSavePlot
-1.			Dx

#END_COMP GM ------------------------------------------------------------------

! Only need to couple at the beginning
#COUPLE1
IH                      NameSource
GM                      NameTarget
100000                  DnCouple
-1.0                    DtCouple

! Note: the GM->IH coupling does not work if IH is not active!
! The following command makes sure that IH is not evolving
#CYCLE
IH			NameComp
100000			DnRun

#STOP
100			MaxIteration
-1.0			tSimulationMax


