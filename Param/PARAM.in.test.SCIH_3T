Begin session: 1

#COMPONENTMAP
SC  0 -1  1		CompMap
IH  0 -1  1		CompMap

#DESCRIPTION
Param/PARAM.in.test.SCIH_3T: Create steady state solar corona		StringDescription

#COMPONENT
IH			NameComp
F			UseComp

#TIMEACCURATE
F			IsTimeAccurate

#STARTTIME
2011			iYear
2			iMonth
16			iDay
17			iHour
26			iMinute
0			iSecond
0.0			FracSecond

#BEGIN_COMP SC ---------------------------------------------------------------

#GRIDBLOCKALL
1200			MaxBlock

INCLUDE
SC/restartIN/restart.H

turn these off when restarting
---------------------------------------------------
#GRIDGEOMETRY
spherical_genr		TypeGeometry
SC/Param/grid_TR.dat		NameGridFile

! Use a true sphere, so box is made much larger
#GRID
1			nRootBlock1
2			nRootBlock2
1			nRootBlock3
-100.0			xMin
 100.0			xMax
-100.0			yMin
 100.0			yMax
-100.0			zMin
 100.0			zMax

#LIMITRADIUS
1.0			rMin
24.0			rMax

#COORDSYSTEM
HGR			TypeCoordSystem

#AMRREGION
InnerShell		NameRegion
shell0			StringShape
1.0			RadiusInner
1.7			Radius

#AMRCRITERIALEVEL
3			nRefineCrit
Level			StringRefine
2			RefineTo
2			CoarsenFrom
Level +InnerShell		StringRefine
5			RefineTo
5			CoarsenFrom
currentsheet		StringRefine
0.5			CoarsenLimit
0.5			RefineLimit
5			MaxLevel

#GRIDLEVEL
2			nLevel
initial			StringShape

#DOAMR
T			DoAmr
30			DnAmr
-1.0			DtAmr
T			IsStrictAmr

#PLASMA
1.0			FluidMass [amu]
1.0			IonCharge [e]
1.0			ElectronTemperatureRatio

#BODY
T			UseBody
1.0			rBody
1.5e8			BodyNDim
1.5e6			BodyTDim

READPOTENTIALFIELD
T			UseMagnetogram
potentialfield.out		NamePotentialFieldFile
0.0			HeightInnerBc
2.0			UnitB 1.0

#MAGNETOGRAM
T			UseMagnetogram
1.0			rMagnetogram
2.5			rSourceSurface
0.0			HeightInnerBc
SC/Param/CR2077_GNG.dat		NameHarmonicsFile
12			nHeaderLine
0.0			PhiShift
2.0			UnitB

#USECURLB0
T			UseCurlB0
2.5			rCurrentFreeB0

#USERSWITCH
+init +ic		StringSwitch

#POYNTINGFLUX
0.55e6			PoyntingFluxPerBSi [J/m^2/s/T]

#CORONALHEATING
turbulentcascade		TypeCoronalHeating
T			UseWaveReflection
1.5e5			LperpTimesSqrtBSi
			rMinWaveReflection
#HEATPARTITIONING
stochasticheating		TypeHeatPartitioning
0.17			StochasticExponent
0.18			StochasticAmplitude

#RESISTIVITY
T			UseResistivity
user			TypeResistivity
0.0			Eta0Si     ! not used

#RESISTIVITYOPTIONS
F			UseResistiveFlux
F			UseJouleHeating
T			UseHeatExchange

#HEATCONDUCTION
T			UseHeatConduction
spitzer			TypeHeatConduction

#HEATFLUXREGION
T			UseHeatFluxRegion
5.0			rCollisional
-8.0			rCollisionless

#HEATFLUXCOLLISIONLESS
T			UseHeatFluxCollisionless
1.05			CollisionlessAlpha

#TEST
krylov			TestString

#SEMIIMPLICIT
T			UseSemiImplicit
parcond			TypeSemiImplicit

#SEMIKRYLOV
GMRES			TypeKrylov
1.0e-5			ErrorMaxKrylov
10			MaxMatvecKrylov

#RADIATIVECOOLING
T			UseRadCooling

#LOOKUPTABLE
radcool			NameTable
load			NameCommand
SC/Param/RadCoolCorona.dat		NameFile
ascii			TypeFile

#TRANSITIONREGION
T			DoExpandTransitionRegion
2.2e5			TeTransitionRegionSi
1.0e1			DeltaTeModSi

#TIMESTEPPING
2			nStage
0.8			CflExpl

#SCHEME
2			nOrder (1 or 2)
Sokolov			TypeFlux (Roe, Rusanov, Linde, Sokolov
mc3			TypeLimiter
1.2			LimiterBeta

#LIMITER
T			UseLogRhoLimiter
T			UseLogPLimiter
F			UseRhoRatioLimiter

#MINIMUMTEMPERATURE
5e4			TminDim  [K] for fluid 1
5e4			TeMinDim [K]

#NONCONSERVATIVE
T			UseNonConservative

#RESCHANGE
T			UseAccurateReschange

#SAVELOGFILE
T			DoSaveLogfile
RAW			StringLog
1			DnSaveLogfile
-1.			DtSaveLogfile

#INNERBOUNDARY
user			TypeBcBody

#OUTERBOUNDARY
user			TypeBc1   user for spherical and user_outerbcs
float			TypeBc2
float			TypeBc3
float			TypeBc4
float			TypeBc5
float			TypeBc6

#SAVEPLOT
3			nPlotFile
x=0 VAR idl		StringPlot
10			DnSavePlot
-1.			DtSavePlot
-1.0			DxSavePlot
rho ux uy uz ti te bx by bz I01 I02 p ppar pe ehot		NameVars
g rbody			NamePars
y=0 VAR idl		StringPlot
10			DnSavePlot
-1.			DtSavePlot
-1.0			DxSavePlot
rho ux uy uz ti te bx by bz I01 I02 p ppar pe ehot		NameVars
g rbody			NamePars
z=0 VAR idl		StringPlot
10			DnSavePlot
-1.			DtSavePlot
-1.0			DxSavePlot
rho ux uy uz ti te bx by bz I01 I02 p ppar pe ehot		NameVars
g rbody			NamePars
3d VAR tec
100000			DnSavePlot
-1.			DtSavePlot
rho ux uy uz ti te bx by bz I01 I02 p ppar pe ehot
g rbody

#SAVEINITIAL
T			DoSaveInitial

#END_COMP SC -----------------------------------------------------------------

#STOP
50			MaxIter
-1.0			TimeMax

End session: 1
#RUN ##########################################################################
Begin session: 2

#BEGIN_COMP SC ---------------------------------------------------------------

#AMR
-1			DnRefine

#END_COMP SC -----------------------------------------------------------------

#COMPONENT
IH			NameComp
T			UseComp

#COUPLE1
SC			NameSource
IH			NameTarget
1			DnCouple
-1.0			DtCouple

#BEGIN_COMP IH ---------------------------------------------------------------

#GRIDBLOCKALL
6800			MaxBlock

INCLUDE
IH/restartIN/restart.H

#COORDSYSTEM
HGR			TypeCoordSystem

#BODY
T			UseBody
18.			rBody
3.0E+8			BodyNDim
3.5E+6			BodyTDim

#PLASMA
1.0			FluidMass [amu]
1.0			IonCharge [e]
1.0			ElectronTemperatureRatio

#GRID
1			nRootBlockX
1			nRootBlockY
1			nRootBlockZ
-250.0			xMin
 250.0			xMax
-250.0			yMin
 250.0			yMax
-250.0			zMin
 250.0			zMax

#AMRREGION
OuterShell		NameRegion
shell0			StringShape
18.0			RadiusInner
21.0			Radius

#AMRCRITERIALEVEL
3			nRefineCrit
Level			StringRefine
4			RefineTo
4			CoarsenFrom
Level +OuterShell		StringRefine
5			RefineTo
5			CoarsenFrom
currentsheet		StringRefine
0.5			CoarsenLimit
0.5			RefineLimit
5			MaxLevel

#GRIDLEVEL
5			nLevel
initial			StringShape

#THINCURRENTSHEET
T			DoThinCurrentSheet

#INNERBOUNDARY
buffergrid		TypeBcBody

#BUFFERGRID
2			nRBuff
64			nPhiBuff
32			nThetaBuff
18.0			rBuffMin
20.0			rBuffMax
0.0			PhiBuffMin
360.			PhiBuffMax
-90.0			LatBuffMin
90.0			LatBuffMax

#OUTERBOUNDARY
float			TypeBc1
float			TypeBc2
float			TypeBc3
float			TypeBc4
float			TypeBc5
float			TypeBc6

#RESCHANGE
T			UseAccurateReschange

#USERSWITCH
+init			StringSwitch

#CORONALHEATING
turbulentcascade		TypeCoronalHeating
T			UseWaveReflection
1.5e5			LperpTimesSqrtBSi
			rMinWaveReflection
#HEATPARTITIONING
stochasticheating		TypeHeatPartitioning
0.17			StochasticExponent
0.18			StochasticAmplitude

#RESISTIVITY
T			UseResistivity
user			TypeResistivity
0.0			Eta0Si     ! not used

#RESISTIVITYOPTIONS
F			UseResistiveFlux
F			UseJouleHeating
T			UseHeatExchange

#HEATFLUXCOLLISIONLESS
T			UseHeatFluxCollisionless
1.05			CollisionlessAlpha

#SCHEME
2			nOrder
Sokolov			TypeFlux
mc3			TypeLimiter
1.2			LimiterBeta

#NONCONSERVATIVE
T			UseNonConservative

#TIMESTEPPING
2			nStage
0.8			CflExpl

#DIVB
T			UseDivbSource
T			UseDivbDiffusion
F			UseProjection
F			UseConstrainB

#SAVELOGFILE
T			DoSaveLogfile
RAW			StringLog
10			DnSaveLogfile
-1.			DtSaveLogfile

#SAVEINITIAL
T			DoSaveInitial

#SAVEPLOT
3			nPlotFile
x=0 VAR idl		StringPlot
10 			DnSavePlot
-1.			DtSavePlot
-1.0			DxSavePlot
rho ux uy uz ti te bx by bz I01 I02 p ppar pe ehot sign		NameVars
g rbody			NamePars
y=0 VAR idl		StringPlot
10			DnSavePlot
-1.			DtSavePlot
-1.0			DxSavePlot
rho ux uy uz ti te bx by bz I01 I02 p ppar pe ehot sign		NameVars
g rbody			NamePars
z=0 VAR idl		StringPlot
10 			DnSavePlot
-1.			DtSavePlot
-1.0			DxSavePlot
rho ux uy uz ti te bx by bz I01 I02 p ppar pe ehot sign		NameVars
g rbody			NamePars
3d VAR tec		StringPlot
4000			DnSavePlot
-1.			DtSavePlot
rho ux uy uz ti te bx by bz I01 I02 p ppar pe ehot sign
g rbody

#END_COMP IH -----------------------------------------------------------------

#STOP
51			MaxIter
-1.0			TimeMax

End session: 2
#RUN ##########################################################################
Begin session: 3

#COUPLE1
SC			NameSource
IH			NameTarget
-1			DnCouple
-1.0			DtCouple

#COMPONENT
SC			NameComp
F			UseComp

#BEGIN_COMP IH ---------------------------------------------------------------

#DOAMR
T			DoAmr
40			DnAmr
-1.0			DtAmr
T			IsStrictAmr

#END_COMP IH -----------------------------------------------------------------

#STOP
100			MaxIter
-1.0			TimeMax

End session: 3
#END ##########################################################################
